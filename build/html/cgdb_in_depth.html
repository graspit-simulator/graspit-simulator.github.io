

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Columbia Grasp Database: Part II &mdash; GraspIt! User Manual 2.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/override.css" type="text/css" />
  

  
    <link rel="top" title="GraspIt! User Manual 2.2 documentation" href="index.html"/>
        <link rel="next" title="Publications and References" href="publications.html"/>
        <link rel="prev" title="The Columbia Grasp Database - Part I" href="cgdb.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home">
        

          GraspIt! Manual

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#what-graspit-is">What GraspIt! is</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#what-graspit-is-not">What GraspIt! is NOT</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#about-this-manual">About this manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#troubleshooting-and-contact">Troubleshooting and contact</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#authors-and-acknowledgements">Authors and acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation_linux.html">GraspIt! Installation - Ubuntu Linux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation_linux.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_linux.html#graspit">GraspIt!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation_windows.html">GraspIt! Installation - Windows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#qt">Qt</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#coin3d">Coin3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#soqt">SoQt</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#lapack">Lapack</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#dlfcn">Dlfcn</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_windows.html#graspit">GraspIt!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation_ros.html">GraspIt! Installation - Ubuntu Linux with ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#the-main-window-and-controls">The main window and controls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#the-camera-mode">The Camera mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started.html#the-interaction-mode">The Interaction mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#grasp-example">Grasp example</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#dynamics-example">Dynamics example</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#the-menus">The menus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_files.html">Main Data Types and Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_files_bodies.html">Bodies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_files_bodies.html#body-files">Body Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_files_robots.html">Robots</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_files_robots.html#degrees-of-freedom">Degrees of Freedom</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_files_robots.html#kinematic-chains">Kinematic Chains</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_files_worlds.html">Worlds</a></li>
<li class="toctree-l1"><a class="reference internal" href="collision.html">Collision and Contact Detection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="collision.html#contacts">Contacts</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision.html#software-implementation">Software implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision.html#under-development-multi-threading">Under development: Multi-threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="collision.html#under-development-object-cloning">Under development: Object cloning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="soft_fingers.html">Soft Fingers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="soft_fingers.html#analytical-contact-area-model">Analytical contact area model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grasp_quality.html">Grasp Quality Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="grasp_quality.html#grasp-wrench-space-metrics">Grasp Wrench Space metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_quality.html#under-development-grasp-force-optimization">Under development: Grasp Force Optimization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gfo.html">Grasp Force Optimization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gfo.html#gfo-computations-through-the-main-interface">GFO computations through the main interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="gfo.html#gfo-code-and-advanced-details">GFO code and advanced details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grasp_planning.html">Grasp Planning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning.html#general-concepts-and-planner-types">General concepts and planner types</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning.html#the-primitive-based-grasp-planner">The Primitive-based Grasp Planner</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dynamics.html">The Dynamics Engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html#user-interaction-in-dynamics-mode">User interaction in dynamics mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html#dof-controllers">DOF controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html#under-development-dynamics-improvements">Under development: dynamics improvements</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html#bullet-dynamics">Bullet Dynamics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eigengrasps.html">Eigengrasps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eigengrasps.html#loading-eigengrasp-information">Loading Eigengrasp Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="eigengrasps.html#using-eigengrasps">Using eigengrasps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grasp_planning_eg.html">Grasp Planning II - Eigengrasp planning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#grasp-planning-in-eigengrasp-space">Grasp planning in Eigengrasp space</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#variables">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#search-energy">Search energy</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#optimization-method-and-planner-types">Optimization method and planner types</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#practical-example-the-simulated-annealing-planner">Practical example: the Simulated Annealing planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planning_eg.html#practical-example-the-multithreaded-planner">Practical example: the Multithreaded planner</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="joint_coupling.html">Joint Coupling and Underactuated Hands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="joint_coupling.html#rigid-coupling">Rigid coupling</a></li>
<li class="toctree-l2"><a class="reference internal" href="joint_coupling.html#breakaway-transmission">Breakaway transmission</a></li>
<li class="toctree-l2"><a class="reference internal" href="joint_coupling.html#under-development-compliant-joints">Under development: compliant joints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">GraspIt! Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="matlab.html">Matlab interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="matlab.html#commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="matlab.html#one-time-step">One time step</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Hardware connections</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#barrett-hand">Barrett Hand</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#flock-of-birds">Flock of Birds</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#cyberglove">Cyberglove</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cgdb.html">The Columbia Grasp Database - Part I</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#caveats">Caveats</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#database-installation">Database installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#graspit-interface-installation">GraspIt Interface Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cgdb.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="cgdb.html#linux">Linux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#connecting-to-and-browsing-the-database">Connecting to and browsing the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#geometric-similarity">Geometric similarity</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgdb.html#database-backed-grasp-planning">Database-backed grasp planning</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Columbia Grasp Database: Part II</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-models">3D Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-models">Adding new models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#robotic-hands">Robotic Hands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-hands">Adding new hands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#grasps">Grasps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-grasp-sources">Adding new grasp sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-grasps">Adding new grasps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#neighbors">Neighbors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-distance-functions">Adding new distance functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-neighbors">Adding new neighbors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#alignments">Alignments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-alignment-methods">Adding new alignment methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-alignments">Adding new alignments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#stored-procedures">Stored Procedures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications and References</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GraspIt! User Manual</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
	  <center>
          <a href="http://graspit-simulator.github.io"><img src="_static/logo.jpg"></a>
	  </center>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>The Columbia Grasp Database: Part II</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/graspit-simulator/graspit-simulator.github.io_src/blob/master/source/cgdb_in_depth.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-columbia-grasp-database-part-ii">
<h1>The Columbia Grasp Database: Part II<a class="headerlink" href="#the-columbia-grasp-database-part-ii" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This section contains material describing the CGDB’s internal structure.
It is intended for those who wish to modify the CGDB or use it in more
advanced ways than the basic database browser described in . For the
remainder of this chapter, when we say the “CGDB” we are referring to
the PostgreSQL database, and not to the accompanying geometry files that
the database references.</p>
<p>The CGDB is not only of data, but also a database in the strong sense; a
structured system for encapsulating relationships between various types
of geometric, semantic, and robotic data. The preloaded data consists of
grasps computed by our Eigengrasps Planner on the models from the
Princeton Shape Benchmark with a small number of hands, but the
structure can be expanded with new data in any dimension. Using the CGDB
to the fullest extent requires a substantial knowledge of SQL, both to
add new information to the system and to calculate statistics and
properties of the grasps.</p>
<p>The CGDB follows the following naming conventions:</p>
<ul class="simple">
<li>every column name is prefixed with the name of its table</li>
<li>except for fields referencing the primary key of another table</li>
</ul>
<p>Some tables contain two unique columns. Columns that end with the suffix
“_id” are numeric automatically generated identifiers and are used as
primary keys. Columns that end with the suffix “_name” are
human-readable identifiers intended to simplify interaction with the
database from code and from the <em>GraspIt!</em> browser.</p>
</div>
<div class="section" id="d-models">
<h2>3D Models<a class="headerlink" href="#d-models" title="Permalink to this headline">¶</a></h2>
<p>We first describe how 3D model information is stored in the database.</p>
<ul class="simple">
<li>contains one entry for each geometry file.<ul>
<li><em>original_model_id</em> is a primary key</li>
<li><em>original_model_name</em> is a convenient human-readable name for
the model. For the models included with the CGDB this is just the
model number from the PSB.</li>
<li><em>original_model_geometry_path</em> and
<em>original_model_thumbnail_path</em> contain the paths - relative to
the <code class="docutils literal"><span class="pre">CGDB_MODEL_ROOT</span></code> environment variable - to the geometry
file and an associated thumbnail file.</li>
<li><em>original_model_tags</em> contains an array of text tags that refer
to the model. For the models that come with the CGDB, this field
is populated with the names of the classes and subclasses in the
Princeton Shape Benchmark’s fine level classification that apply
to this model.</li>
<li><em>original_model_grasping_rescale</em> gives a conversion from the
units in the geometry file to millimeters, where the model is at
its “graspable size” as discussed in the . For most PSB models we
took the units in the original file to be 10 inches.</li>
<li><em>original_approximate_radius</em> contains a statistical measure of
the scale of the original model. We assume that all points on the
surface of a mesh are normally distributed around a sphere of
fixed radius centered on the center of mass. This value is that
radius, plus 2 standard deviations of that distribution. It is
used by the CGDB planner to find models at “similar” sizes to
other models.</li>
</ul>
</li>
<li>contains one entry for each scaled copy of an original model. Since
grasping is scale-dependent, we duplicate original models at multiple
scales (in this release, 0.75, 1, 1.25 and 1.5 times the original
scale).<ul>
<li><em>scaled_model_id</em> is a primary key</li>
<li><em>scaled_model_name</em> contains a human-readable name for the
scaled model. Following the current convention
(“collectionname_scale_modelname”) is a good idea.</li>
<li><em>scaled_model_scale</em> contains the rescale factor relative to the
original model.</li>
<li><em>original_model_id</em> is a foreign key on the
<em>original_model</em>table, linking this scaled model to an unscaled
original model.</li>
</ul>
</li>
</ul>
<div class="section" id="adding-new-models">
<h3>Adding new models<a class="headerlink" href="#adding-new-models" title="Permalink to this headline">¶</a></h3>
<p>To add new models to the CGDB, first place the geometry files (and
preferably, thumbnails) under the <code class="docutils literal"><span class="pre">CGDB_MODEL_ROOT</span></code> directory. Then,
create a row in <em>original_model</em> referencing the new files. There is no
need to follow the PSB naming convention for files as long as the path
are stored correctly in the database. Make sure to store the
units-to-millimeters conversion in <em>original_model_grasping_rescale</em>
and the approximate radius in <em>original_model_approximate_radius</em>.
Unfortunately we are not currently providing code for computing the
approximate radius, but the description of the method above should help
those who wish to recreate it.</p>
<p>The next step is to add at least one row, to <em>scaled_model</em>, or as many
rows as you like. (You can also add new <em>scaled_model</em> rows for
existing models in the database at new scales.) After that, the model is
in the database and will be visible to the browser and to all CGDB code,
although it will not yet have any associated grasps, alignments, or
neighbors.</p>
</div>
</div>
<div class="section" id="robotic-hands">
<h2>Robotic Hands<a class="headerlink" href="#robotic-hands" title="Permalink to this headline">¶</a></h2>
<p>In this section we describe how hands are stored in the database.</p>
<ul class="simple">
<li>contains one entry for each robotic hand used in the database by any
grasp. We store a unique hand if any parameter has changed, so for
example the Barrett Hand with different friction coefficients appears
more than once.<ul>
<li><em>hand_id</em> is a primary key</li>
<li><em>hand_name</em> is a convenient human-readable name for the hand.</li>
</ul>
</li>
</ul>
<div class="section" id="adding-new-hands">
<h3>Adding new hands<a class="headerlink" href="#adding-new-hands" title="Permalink to this headline">¶</a></h3>
<p>At the moment, the hand information is tightly coupled to <em>GraspIt!</em>.
While it is possible to add new hands to the database without doing
anything in GraspIt!, the only way to link a database hand to a
<em>GraspIt!</em> hand model is to edit the code. This is not particularly
difficult, but we should fix it in the future.</p>
</div>
</div>
<div class="section" id="grasps">
<h2>Grasps<a class="headerlink" href="#grasps" title="Permalink to this headline">¶</a></h2>
<p>Now that we have models and hands, we can talk about storing grasps.</p>
<ul class="simple">
<li>lists the possible sources of grasps. The primary source of grasps in
the CGDB is from the Eigengrasp Planner, but there are some
human-created grasp sources as well. In theory a database-backed
planner can prioritize different sources, say for example preferring
human created grasps to automatically created grasps when both are
available. Our current planner only uses the automated grasps and so
does not do this.<ul>
<li><em>grasp_source_id</em> is a primary key</li>
<li><em>grasp_source_name</em> is a convenient human-readable name for the
grasp source.</li>
<li><em>grasp_source_description</em> is a free-form field for more in
depth comments.</li>
</ul>
</li>
<li>contains one entry for each grasp done with a hand on a model in the
database.<ul>
<li><em>grasp_id</em> is a primary key</li>
<li><em>scaled_model_id</em> references the scaled model the grasp was
performed on.</li>
<li><em>hand_id</em> references the hand used to perform the grasp.</li>
<li><em>grasp_source_id</em> references the grasp_source where this grasp
was created from.</li>
<li><em>grasp_pregrasp_joints</em> and <em>grasp_pregrasp_position</em> contain
the information necessary to recreate the pregrasp.</li>
<li><em>grasp_grasp_joints</em> and <em>grasp_grasp_position</em> contain the
information necessary to recreate the grasp.</li>
<li><em>grasp_contacts</em> is an array of contact points between the hand
and object. Each three numbers forms an (x,y,z) triple.</li>
<li><em>grasp_epsilon_quality</em> and <em>grasp_volume_quality</em> contain
Ferrari-Canny grasp quality measures.</li>
</ul>
</li>
</ul>
<div class="section" id="adding-new-grasp-sources">
<h3>Adding new grasp sources<a class="headerlink" href="#adding-new-grasp-sources" title="Permalink to this headline">¶</a></h3>
<p>If you wish to add data from your own planner to the CGDB, we suggest
you create a new entry in <em>grasp_source</em>.</p>
</div>
<div class="section" id="adding-new-grasps">
<h3>Adding new grasps<a class="headerlink" href="#adding-new-grasps" title="Permalink to this headline">¶</a></h3>
<p>If you wish to add new grasps to the CGDB, you must fill in the various
fields of this table with the grasp information. The coordinate system
of the grasp positions is the model’s coordinate system.</p>
</div>
</div>
<div class="section" id="neighbors">
<h2>Neighbors<a class="headerlink" href="#neighbors" title="Permalink to this headline">¶</a></h2>
<p>Aside from model and grasp information, the CGDB also stores geometric
relationships between 3D models to assist in grasp planning. If you wish
to use <em>GraspIt!</em>’s built-in CGDB planner on new models that were not
distributed with the PSB, you will need to add information to this part
of the database.</p>
<p>In this section we describe how geometric neighbors are stored in the
database. We store neighbors according to a number of “distance
functions” that measure the similarities between 3D models. At this
time, we do not provide code for calculating such similarities yourself,
but only precomputed neighbor relationships for the existing models. We
are distributing 9 sets of neighbors for each model, as given by the
following distance functions.</p>
<ul class="simple">
<li>ZERNIKE - Novotni and Klein’s Zernike descriptors, as described .</li>
<li>RANDOM - randomly selected neighbors for benchmarking purposes.</li>
<li>PSB - neighbors within the same subclass in the PSB as the current
model. The ordering within the classes is arbitrary. Used for
benchmarking.</li>
<li>SIFT_12_view_x - A SIFT-PI descriptor, as described in the CGDB
publications, which describes similarity using only what is visible
from one side of the object. There are 6 such distance function in
the database with different view numbers, and they correspond to
descriptors taken from the centers of the 6 sides of the enclosing
box.</li>
</ul>
<p>For each distance function we store the 25 nearest neighbors of each
object, along with the distance to the neighbor (higher distance is less
similar). Note that the neighbor relationships are between <em>original</em>
models and not scaled models, since most measures of 3D similarity are
scale independent.</p>
<ul class="simple">
<li>contains an entry for each similarity metric used in comparing 3D
models and finding neighbors. Currently we provide 9 such distance
functions (the 10th, “Eigengrasps”, is not actually a distance
function and is used as a marker in some experiments that pit the
Eigengrasp Planner against the Database Planner.)<ul>
<li><em>distance_function_id</em> is a primary key</li>
<li><em>distance_function_name</em> is a convenient human-readable name for
the distance function.</li>
<li><em>distance_function_description</em> is a more detailed comment about
the distance function.</li>
</ul>
</li>
<li>contains an entry for each neighbor relationship between two models
in the database.<ul>
<li><em>neighbor_id</em> is a primary key</li>
<li><em>original_model_id</em> references the model we are finding
neighbors for</li>
<li><em>neighbor_original_model_id</em> references the model that has been
found as a neighbor</li>
<li><em>distance_function_id</em> references the distance function used in
finding this neighbor</li>
<li><em>neighbor_distance</em> gives the distance to the neighbor (higher is
less similar)</li>
</ul>
</li>
</ul>
<div class="section" id="adding-new-distance-functions">
<h3>Adding new distance functions<a class="headerlink" href="#adding-new-distance-functions" title="Permalink to this headline">¶</a></h3>
<p>To add a new distance function, simply add a new entry to the
<em>distance_function</em> table. This is useful if you want to try your own
shape matching functions.</p>
</div>
<div class="section" id="adding-new-neighbors">
<h3>Adding new neighbors<a class="headerlink" href="#adding-new-neighbors" title="Permalink to this headline">¶</a></h3>
<p>To add a new neighbor to the database, fill in a new row in the
<em>neighbor</em> table. Note that neighbor relationships are not automatically
symmetric, and so if you want the reverse relationship to be in the
database as well you must add it yourself. As we do not provide the
original descriptors or code used in creating the neighbors we have
distributed, we strongly recommend not adding any new neighbors to the
original distance functions. If you wish to add new models, we encourage
you to create a new distance function for all the models, including
those we have distributed.</p>
</div>
</div>
<div class="section" id="alignments">
<h2>Alignments<a class="headerlink" href="#alignments" title="Permalink to this headline">¶</a></h2>
<p>To transfer grasps from one model to another we need a transformation
between their coordinate systems. The CGDB currently provides
precomputed rotational alignments for all neighbor relationships that
are in the database; translational alignments are done by colocating the
models’ centers of mass. At the moment, we do not provide the alignment
code itself. We currently provide data from 2 alignment methods:</p>
<ul class="simple">
<li>TRIMESH_LIB PCA - Models are aligned by aligning their principle
axes. The was used to calculate PCAs.</li>
<li>SIFT_FULL_ICP - A SIFT - based alignment, as described in the CGDB
publications, refined by ICP.</li>
</ul>
<p>The database structure is as follows:</p>
<ul class="simple">
<li>contains an entry for each method of computing alignments.<ul>
<li><em>alignment_method_id</em> is a primary key</li>
<li><em>alignment_method_name</em> is a convenient human-readable name for
the alignment method.</li>
<li><em>distance_function_description</em> is a more detailed comment about
the alignment method.</li>
</ul>
</li>
<li>contains an entry for each stored alignment between two models in the
database.<ul>
<li><em>alignment_id</em> is a primary key</li>
<li><em>original_model_id</em> references the model we are trying to align
(the one whose coordinates change)</li>
<li><em>alignment_original_model_id</em> references the model that we are
aligning to (the one whose coordinates remain fixed)</li>
<li><em>alignment_method_id</em> references the alignment method used in
creating this alignment.</li>
<li><em>aignment</em> gives the transformation as a matrix</li>
</ul>
</li>
</ul>
<div class="section" id="adding-new-alignment-methods">
<h3>Adding new alignment methods<a class="headerlink" href="#adding-new-alignment-methods" title="Permalink to this headline">¶</a></h3>
<p>To add a new distance function, simply add a new entry to the
<em>alignment_method</em> table.</p>
</div>
<div class="section" id="adding-new-alignments">
<h3>Adding new alignments<a class="headerlink" href="#adding-new-alignments" title="Permalink to this headline">¶</a></h3>
<p>To add a new alignment to the database, fill in a new row in the
<em>alignment</em> table. Note that alignments are not automatically symmetric,
and so if you want the reverse relationship to be in the database as
well you must add it yourself. As we do not provide the code used in
creating the alignments we have distributed, we strongly recommend not
adding any new alignments to the original alignment methods.</p>
</div>
</div>
<div class="section" id="stored-procedures">
<h2>Stored Procedures<a class="headerlink" href="#stored-procedures" title="Permalink to this headline">¶</a></h2>
<p>Along with the data and table structures, several stored procedures are
built into the database to ease use. We briefly describe them here:</p>
<ul class="simple">
<li>turns a scaled_model_name into a scaled_model_id</li>
<li>turns a hand_name into a scaled_model_id</li>
<li>turns a grasp_source_name into a grasp_source_id</li>
<li>retrieves a list of alignment method names</li>
<li>retrieves a list of distance function names</li>
<li>retrieves a list of grasp type names</li>
<li>retrieves basic information about all scaled models.</li>
<li>retrieves the largest scaled version of an original model with
approximate radius smaller than a given radius, and the smallest
version larger than that radius. One of these may not exist (if the
radius is larger than the largest scaled model, or smaller than the
smallest).</li>
<li>retrieves a list of saved neighbors for a given model</li>
<li>retrieves a list of saved grasps for a given model</li>
<li>retrieves a saved alignment between two models</li>
</ul>
<p>More functions exist, but serve as helpers for those listed above.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="publications.html" class="btn btn-neutral float-right" title="Publications and References" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cgdb.html" class="btn btn-neutral" title="The Columbia Grasp Database - Part I" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright GNU Pulic License.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>